import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as g}from"./index.BMc0qTdX.js";import{c as d}from"./cn.C3L7WLNA.js";import{x as m}from"./icon.gG8nFjUr.js";import"./_commonjsHelpers.CqkleIqs.js";const A=["anchors","dropdowns","languages","tabs","versions","menu","products"];function f(r){return"href"in r&&"title"in r}function h(r){return"group"in r&&"pages"in r}function y(r){let t=r.replaceAll("\\","/");return t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t}function b(r,t){const s=r.groups;if(Array.isArray(s))return s;const i=r.pages;if(Array.isArray(i)&&!r.group)return i;for(const n of A){const o=r[n];if(Array.isArray(o)){for(const l of o){const a=b(l,t);if(a.length>0&&j(a,t))return a}if(o.length>0)return b(o[0],t)}}return[]}function j(r,t){const s=y(t);return r.some(i=>f(i)?y(i.href)===s:h(i)&&j(i.pages,s))}const p="text-(--primary) font-medium",C={container:{base:"rounded-xl w-full outline-offset-[-1px]",active:`bg-(--primary)/10 ${p}`,inactive:"hover:bg-gray-600/5 text-gray-700 hover:text-gray-900"},card:{base:"ml-4 border-l outline-offset-[-1px]",active:`border-(--primary) bg-(--primary)/10 ${p}`,inactive:"border-gray-950/5 hover:bg-gray-600/5 text-gray-700 hover:text-gray-900"},border:{base:"ml-4 border-l py-2 lg:py-1.5 w-[calc(100%-1rem)]",active:`border-(--primary) ${p}`,inactive:"border-gray-950/5 hover:border-gray-950/20 text-gray-700 hover:text-gray-900"},undecorated:{active:`border-(--primary) ${p}`,inactive:"border-gray-950/5 hover:border-gray-950/20 text-gray-700 hover:text-gray-950"},arrow:{active:`border-(--primary) ${p}`,inactive:"border-gray-950/5 hover:border-gray-950/20 text-gray-700 hover:text-gray-950"},plain:{active:p,inactive:"text-gray-950 hover:text-(--primary)"}};function N({page:r,currentPath:t,sidebarItemStyle:s="container"}){const i=r.href===t,n=r.title,o=n.split(" ").length===1,l=C[s],a=r.api?.trim().split(/\s+/)[0]?.toUpperCase(),u=a==="GET"?"bg-emerald-100 text-emerald-700":a==="POST"?"bg-blue-100 text-blue-700":a==="PUT"?"bg-amber-100 text-amber-700":a==="PATCH"?"bg-orange-100 text-orange-700":a==="DELETE"?"bg-rose-100 text-rose-700":"bg-stone-100 text-stone-700";return e.jsx("li",{className:"relative scroll-m-4 first:scroll-m-20","data-title":n,children:e.jsxs("a",{href:r.href,className:d("group flex items-center pl-4 pr-3 py-1.5 cursor-pointer gap-x-3 text-left",o&&"wrap-break-word hyphens-auto",l.base,i?l.active:l.inactive),"aria-current":i?"page":void 0,children:[s==="arrow"&&i&&e.jsx(m,{icon:"chevron-right",iconLibrary:"lucide",className:"absolute left-0 text-(--primary) group-hover:text-(--primary)",size:16}),r.icon&&e.jsx(m,{icon:r.icon,className:d("shrink-0",i?"text-(--primary)":"text-gray-400 group-hover:text-gray-500"),size:16}),e.jsx("span",{className:"flex-1 truncate min-w-0",children:n}),a&&e.jsx("span",{className:d("shrink-0 rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase",u),children:a}),r.deprecated&&e.jsx("span",{className:"shrink-0 text-xs font-medium px-2 py-0.5 rounded-md bg-gray-100 text-gray-600",children:"Deprecated"})]})})}function w({group:r,currentPath:t,sidebarItemStyle:s}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2.5 pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900",children:[r.icon&&e.jsx(m,{icon:r.icon,className:"h-3.5 w-3.5 bg-current",overrideColor:!0,size:14}),e.jsx("h5",{children:r.group})]}),e.jsx("ul",{children:r.pages.map(i=>f(i)?e.jsx(N,{page:i,currentPath:t,sidebarItemStyle:s},i.href):h(i)?e.jsx("li",{children:e.jsx(w,{group:i,currentPath:t,sidebarItemStyle:s})},i.group):null)})]})}function T(){return e.jsx("div",{className:"px-1 py-3",children:e.jsx("div",{className:"h-px w-full bg-gray-100"})})}function L(r){const t=[];for(const s of r)if(f(s)){const i=t[t.length-1];i?.kind==="pages"?i.pages.push(s):t.push({kind:"pages",pages:[s]})}else h(s)&&t.push({kind:"group",group:s});return t}function $(r){return r.length>1&&r.endsWith("/")?r.slice(0,-1):r}function k(r,t){if(f(r)){const s=t[$(r.href)];return s?{...r,...s.icon?{icon:s.icon}:{},...s.api?{api:s.api}:{},...s.deprecated?{deprecated:!0}:{}}:r}return h(r)?{...r,pages:r.pages.map(s=>k(s,t))}:r}function O({entries:r,currentPath:t,pageMeta:s={},sidebarItemStyle:i,showDivider:n}){const o=r.map(a=>k(a,s)),l=L(o);return e.jsx(e.Fragment,{children:l.map((a,u)=>{const c=u>0?n?"my-2":"mt-6 lg:mt-8":void 0;return a.kind==="pages"?e.jsx("ul",{className:c,children:a.pages.map(x=>e.jsx(N,{page:x,currentPath:t,sidebarItemStyle:i},x.href))},a.pages[0].href):e.jsxs("div",{children:[n&&u>0&&e.jsx(T,{}),e.jsx("div",{className:c,children:e.jsx(w,{group:a.group,currentPath:t,sidebarItemStyle:i})})]},`${a.group.group}-${u}`)})})}function W({name:r,href:t,icon:s,color:i}){const n=t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//");return e.jsxs("a",{href:t,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,style:{"--anchor-color":i||"var(--primary)"},className:d("group flex items-center ml-4 lg:ml-0 lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium outline-offset-4","text-gray-600 hover:text-gray-900"),children:[s&&e.jsx("span",{className:d("mr-4 rounded-md inline-flex items-center justify-center w-6 h-6 p-1","group-hover:[background:var(--anchor-color)] ring-1 ring-gray-950/[0.07]"),children:e.jsx(m,{icon:s,className:"bg-gray-600 group-hover:bg-white",overrideColor:!0,size:16})}),r]})}function D({anchors:r}){return e.jsx("ul",{className:"list-none mb-6 pl-4",children:r.map(t=>e.jsx("li",{className:"list-none",children:e.jsx(W,{href:t.href,name:t.name,icon:t.icon,color:t.color})},t.href))})}function F({tabs:r}){const[t,s]=g.useState(!1),i=r.find(n=>n.isActive);return r.length===0?null:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>s(!t),className:"flex w-full items-center justify-between px-4 py-2.5 h-10 rounded-[0.85rem] border border-gray-200/70 hover:bg-gray-600/5 gap-1.5",children:[e.jsx("span",{className:"text-base font-normal text-gray-800",children:i?.name||r[0]?.name}),e.jsx(m,{icon:"chevron-down",iconLibrary:"lucide",className:d("transition-transform",t&&"rotate-180"),size:16})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200/70 rounded-lg shadow-lg p-1.5 z-20",children:r.map(n=>e.jsxs("a",{href:n.href,className:d("flex items-center justify-between px-2.5 py-2 text-sm font-medium rounded-md hover:bg-gray-100",n.isActive?"text-primary":"text-gray-800"),onClick:()=>s(!1),children:[n.name,n.isActive&&e.jsx(m,{icon:"check",iconLibrary:"lucide",className:"text-primary",size:16})]},n.name))})]})]})}function _({navigation:r,currentPath:t,tabs:s=[],anchors:i=[],pageMeta:n={},logoSrc:o,siteName:l="Documentation",sidebarItemStyle:a="container",showDivider:u=!1}){const[c,x]=g.useState(!1),E=b(r,t);return g.useEffect(()=>{const v=()=>x(z=>!z);return window.addEventListener("toggle-mobile-sidebar",v),()=>window.removeEventListener("toggle-mobile-sidebar",v)},[]),g.useEffect(()=>{x(!1)},[t]),g.useEffect(()=>(c?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[c]),e.jsxs(e.Fragment,{children:[c&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[60] lg:hidden",onClick:()=>x(!1)}),c&&e.jsx("button",{type:"button",onClick:()=>x(!1),className:"fixed bg-white rounded-full top-4 right-4 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-600 shadow-md z-[80] lg:hidden","aria-label":"Close navigation",children:e.jsx(m,{icon:"x",iconLibrary:"lucide",size:18})}),e.jsx("div",{className:d("fixed top-0 left-0 bottom-0 w-[20rem] bg-white z-[70] transition-transform duration-300 ease-in-out lg:hidden",c?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center justify-between px-4 pt-6 pb-4",children:o?e.jsx("img",{src:o,alt:l,className:"h-7 w-auto object-contain"}):e.jsx("div",{className:"h-7 w-7 rounded-lg bg-primary/15 text-primary flex items-center justify-center","aria-label":l,children:e.jsx(m,{icon:"shield",iconLibrary:"lucide",size:16})})}),e.jsxs("nav",{className:"flex-1 overflow-y-auto pt-4 pb-8",children:[s.length>0&&e.jsx("div",{className:"px-4 mb-4",children:e.jsx(F,{tabs:s})}),i.length>0&&e.jsx("div",{className:"px-2",children:e.jsx(D,{anchors:i})}),e.jsx("div",{className:"px-4",children:e.jsx(O,{entries:E,currentPath:t,pageMeta:n,sidebarItemStyle:a,showDivider:u})})]})]})})]})}export{_ as MobileSidebar};
