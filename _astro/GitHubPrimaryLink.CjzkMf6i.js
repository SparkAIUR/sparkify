import{j as o}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.BMc0qTdX.js";import"./_commonjsHelpers.CqkleIqs.js";function f(t){try{const e=new URL(t);if(e.hostname!=="github.com"&&e.hostname!=="www.github.com")return;const[i,r]=e.pathname.split("/").filter(Boolean).slice(0,2);return!i||!r?void 0:`${i}/${r}`}catch{return}}function h(t){return t.toLocaleString("en-US")}function g({href:t,repo:e,className:i="",showStars:r=!0,onClick:m}){const s=c.useMemo(()=>e||f(t),[t,e]),[u,p]=c.useState(null);return c.useEffect(()=>{if(!r||!s)return;const a=new AbortController,l=window.setTimeout(()=>a.abort(),2500);return fetch(`https://api.github.com/repos/${s}`,{signal:a.signal,headers:{Accept:"application/vnd.github+json"}}).then(n=>n.ok?n.json():null).then(n=>{!n||typeof n.stargazers_count!="number"||p(n.stargazers_count)}).catch(()=>{}).finally(()=>{window.clearTimeout(l)}),()=>{window.clearTimeout(l),a.abort()}},[s,r]),o.jsxs("a",{href:t,className:i,onClick:m,children:[o.jsx("span",{children:s||"GitHub"}),r&&typeof u=="number"&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-500",children:[o.jsx("span",{children:"â˜†"}),o.jsx("span",{children:h(u)})]})]})}export{g as GitHubPrimaryLink};
