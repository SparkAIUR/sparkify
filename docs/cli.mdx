---
title: "CLI Reference"
description: "Complete sparkify command surface, options, and exit code contract."
---

# CLI Reference

## When to use each command

<CardGroup cols={2}>
  <Card title="init" icon="wand-magic-sparkles">
    Bootstrap docs skeleton and base config.
  </Card>
  <Card title="dev" icon="laptop-code">
    Live preview with workspace rebuild and config-source reporting.
  </Card>
  <Card title="build" icon="hammer">
    Generate deployable static output.
  </Card>
  <Card title="doctor" icon="stethoscope">
    Validate environment, docs source, and compatibility diagnostics.
  </Card>
  <Card title="export-openapi" icon="file-code">
    Export schema from FastAPI app without launching a server.
  </Card>
</CardGroup>

## `sparkify init`

Scaffold a docs setup.

| Flag | Description | Default |
| --- | --- | --- |
| `--docs-dir <path>` | Docs directory | `./docs` |
| `--project-name <name>` | Project display name | none |
| `--primary-color <hex>` | Primary theme color | `#2563eb` |
| `--with-openapi <pathOrUrl>` | Include OpenAPI source | none |
| `--fastapi <module:app>` | FastAPI target for export | none |

## `sparkify dev`

Run local preview.

| Flag | Description | Default |
| --- | --- | --- |
| `--config <path>` | Config file path | `sparkify.config.json` |
| `--docs-dir <path>` | Docs directory override | from config |
| `--port <number>` | Dev server port | `4321` |
| `--base <path>` | Base path override | from config |
| `--debug` | Enable debug logs | `false` |

## `sparkify build`

Build static output.

| Flag | Description | Default |
| --- | --- | --- |
| `--config <path>` | Config file path | `sparkify.config.json` |
| `--docs-dir <path>` | Docs directory override | from config |
| `--out <path>` | Output directory override | from config |
| `--site <url>` | Canonical site URL | from config |
| `--base <path>` | Base path override | from config |
| `--strict` | Fail on warnings | `false` |
| `--debug` | Enable debug logs | `false` |

## `sparkify doctor`

Run diagnostics for Node runtime, docs path, config parsing, docs config source, and OpenAPI readiness.

| Flag | Description |
| --- | --- |
| `--config <path>` | Config file path |
| `--docs-dir <path>` | Docs directory override |

## `sparkify export-openapi`

Export OpenAPI schema from FastAPI.

| Flag | Description | Default |
| --- | --- | --- |
| `--fastapi <module:app>` | FastAPI target | required |
| `--out <path>` | Output file | `./docs/openapi.json` |
| `--server-url <url>` | Override `servers[0].url` | none |
| `--python <path>` | Python executable | `python` |
| `--env-file <path>` | Environment file | none |
| `--cwd <path>` | Working directory | current cwd |
| `--pythonpath <path>` | PYTHONPATH prefix | none |

<CodeGroup>

```bash npm
npx sparkify export-openapi --fastapi "app.main:app" --out ./docs/openapi.json
```

```bash local
node packages/cli/dist/bin.js export-openapi --fastapi "app.main:app" --cwd ./examples/fastapi-demo
```

</CodeGroup>

## Exit codes

| Code | Meaning |
| --- | --- |
| `0` | Success |
| `1` | General failure |
| `2` | Invalid config |
| `3` | Invalid docs config (`docs.json`/`mint.json`) |
| `4` | Invalid OpenAPI input |
| `5` | Build failure |
