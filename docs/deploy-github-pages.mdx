---
title: "Deploy: GitHub Pages"
description: "CI workflow for publishing sparkify output to GitHub Pages."
---

# Deploy: GitHub Pages

GitHub Pages is the default recommendation for public repository docs.

## Build command

```bash
npx sparkify build --site https://<user>.github.io --base /<repo>
```

## Reusable action

`sparkify` provides a reusable action:

```yaml
- uses: SparkAIUR/sparkify@v1
```

Default behavior is build-only. Upload and deploy are opt-in with action inputs.

## Pipeline at a glance

<Steps>
  <Step title="Build static output">
    Run `SparkAIUR/sparkify@v1` to compile docs output.
  </Step>
  <Step title="Upload the pages artifact">
    Set `upload-pages-artifact: "true"` to upload the generated directory.
  </Step>
  <Step title="Deploy with GitHub Pages action">
    Set `deploy-pages: "true"` to deploy via `actions/deploy-pages`.
  </Step>
  <Step title="Smoke test deep links">
    Verify routed pages under `/<repo>/...` and confirm styles/assets load correctly.
  </Step>
</Steps>

## Workflow template (consumer repos, build-only)

```yaml
name: Build Docs

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: SparkAIUR/sparkify@v1
        with:
          docs-dir: ./docs
          out-dir: ./dist
```

## Workflow template (consumer repos, upload + deploy in one job)

```yaml
name: Deploy Docs

on:
  push:
    branches: [main]

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  deploy:
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.sparkify.outputs.page-url }}
    steps:
      - uses: actions/checkout@v4
      - id: sparkify
        uses: SparkAIUR/sparkify@v1
        with:
          docs-dir: ./docs
          out-dir: ./dist
          upload-pages-artifact: "true"
          deploy-pages: "true"
```

## Workflow template (sparkify monorepo maintainers, internal)

```yaml
- uses: actions/checkout@v4
- uses: ./
  with:
    docs-dir: ./docs
    out-dir: ./dist
    upload-pages-artifact: "true"
```

Deploy can stay in a separate workflow job with `actions/deploy-pages@v4`, or be handled in the same action call with `deploy-pages: "true"`.

## `site` and `base` matrix

| Site type | `site` | `base` |
| --- | --- | --- |
| User pages (`user.github.io`) | `https://user.github.io` | `""` |
| Project pages (`user.github.io/repo`) | `https://user.github.io` | `/repo` |

## Canonical and trailing slash notes

- Keep `site` absolute and stable to avoid broken canonical metadata.
- Keep `base` without trailing slash (`/repo`, not `/repo/`).
- Validate deep links under the deployed base path.
- Configure repository Pages source as **GitHub Actions**.
- If using the `github-pages` environment with branch policies, allow the branch that runs the workflow (for example `main`).

<Warning>
Most broken asset reports on Pages are caused by incorrect `base`.
</Warning>
